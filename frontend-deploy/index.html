<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz AI App</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Landing Page -->
    <div id="landing-page" class="screen active">
        <div class="container">
            <div class="header">
                <h1 class="logo">Quiz AI</h1>
                <p class="subtitle">Powered by Gemini AI</p>
            </div>
            
            <div class="menu-options">
                <button class="menu-btn primary" onclick="showInstantPlay()">
                    <span class="icon">âš¡</span>
                    <span class="text">Instant Play</span>
                    <span class="desc">Start playing immediately</span>
                </button>
                
                <button class="menu-btn secondary" onclick="showMultiplayer()">
                    <span class="icon">ğŸ‘¥</span>
                    <span class="text">Multiplayer</span>
                    <span class="desc">Play with friends</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Instant Play Setup -->
    <div id="instant-play" class="screen">
        <div class="container">
            <div class="back-header">
                <button class="back-btn" onclick="showLanding()">â† Back</button>
                <h2>Instant Play</h2>
            </div>
            
            <div class="quiz-setup">
                <div class="setup-tabs">
                    <button class="tab-btn active" onclick="switchTab('topic')">Topic-based</button>
                    <button class="tab-btn" onclick="switchTab('document')">Document-based</button>
                </div>
                
                <div id="topic-setup" class="setup-content active">
                    <div class="input-group">
                        <label for="topic-input">Enter a topic</label>
                        <input type="text" id="topic-input" placeholder="e.g., JavaScript, History, Science...">
                    </div>
                    
                    <div class="input-group">
                        <label for="difficulty-level">Difficulty Level</label>
                        <select id="difficulty-level">
                            <option value="beginner">ğŸŒ± Beginner - Basic concepts and fundamentals</option>
                            <option value="intermediate" selected>ğŸ¯ Intermediate - Moderate complexity</option>
                            <option value="advanced">ğŸ”¥ Advanced - In-depth knowledge required</option>
                            <option value="expert">ğŸ’ Expert - Challenging and specialized</option>
                        </select>
                    </div>
                    
                    <div class="input-group">
                        <label for="question-count">Number of questions</label>
                        <select id="question-count">
                            <option value="3">3 questions</option>
                            <option value="5">5 questions</option>
                            <option value="7" selected>7 questions</option>
                            <option value="10">10 questions</option>
                            <option value="15">15 questions</option>
                            <option value="20">20 questions</option>
                            <option value="25">25 questions</option>
                            <option value="30">30 questions</option>
                        </select>
                    </div>
                    
                    <div class="input-group">
                        <label for="time-limit">Time Limit</label>
                        <select id="time-limit">
                            <option value="0">â³ No time limit</option>
                            <option value="30">âš¡ 30 seconds per question</option>
                            <option value="60" selected>â±ï¸ 1 minute per question</option>
                            <option value="90">ğŸ• 1.5 minutes per question</option>
                            <option value="120">â° 2 minutes per question</option>
                            <option value="180">ğŸ•’ 3 minutes per question</option>
                            <option value="300">ğŸ•” 5 minutes per question</option>
                        </select>
                    </div>
                    
                    <button class="start-btn" onclick="startTopicQuiz()">Generate Quiz</button>
                </div>
                
                <div id="document-setup" class="setup-content">
                    <div class="input-group">
                        <label for="document-input">Upload document</label>
                        <div class="file-upload">
                            <input type="file" id="document-input" accept=".pdf,.txt" onchange="handleFileUpload()">
                            <div class="file-upload-area">
                                <span class="upload-icon">ğŸ“„</span>
                                <span class="upload-text">Click to upload PDF or TXT file</span>
                                <span class="file-name" id="file-name"></span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label for="doc-difficulty-level">Difficulty Level</label>
                        <select id="doc-difficulty-level">
                            <option value="beginner">ğŸŒ± Beginner - Basic concepts from document</option>
                            <option value="intermediate" selected>ğŸ¯ Intermediate - Moderate analysis required</option>
                            <option value="advanced">ğŸ”¥ Advanced - Deep understanding needed</option>
                            <option value="expert">ğŸ’ Expert - Critical thinking and synthesis</option>
                        </select>
                    </div>
                    
                    <div class="input-group">
                        <label for="doc-question-count">Number of questions</label>
                        <select id="doc-question-count">
                            <option value="3">3 questions</option>
                            <option value="5">5 questions</option>
                            <option value="7" selected>7 questions</option>
                            <option value="10">10 questions</option>
                            <option value="15">15 questions</option>
                            <option value="20">20 questions</option>
                            <option value="25">25 questions</option>
                            <option value="30">30 questions</option>
                        </select>
                    </div>
                    
                    <div class="input-group">
                        <label for="doc-time-limit">Time Limit</label>
                        <select id="doc-time-limit">
                            <option value="0">â³ No time limit</option>
                            <option value="30">âš¡ 30 seconds per question</option>
                            <option value="60" selected>â±ï¸ 1 minute per question</option>
                            <option value="90">ğŸ• 1.5 minutes per question</option>
                            <option value="120">â° 2 minutes per question</option>
                            <option value="180">ğŸ•’ 3 minutes per question</option>
                            <option value="300">ğŸ•” 5 minutes per question</option>
                        </select>
                    </div>
                    
                    <button class="start-btn" onclick="startDocumentQuiz()" disabled>Generate Quiz</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Multiplayer Menu -->
    <div id="multiplayer" class="screen">
        <div class="container">
            <div class="back-header">
                <button class="back-btn" onclick="showLanding()">â† Back</button>
                <h2>Multiplayer</h2>
            </div>
            
            <div class="multiplayer-options">
                <button class="multiplayer-btn host" onclick="showHostSetup()">
                    <span class="icon">ğŸ¯</span>
                    <span class="text">Host a Quiz</span>
                    <span class="desc">Create a quiz room for others to join</span>
                </button>
                
                <button class="multiplayer-btn join" onclick="showJoinSetup()">
                    <span class="icon">ğŸ”—</span>
                    <span class="text">Join a Quiz</span>
                    <span class="desc">Enter a PIN to join an existing quiz</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Host Setup -->
    <div id="host-setup" class="screen">
        <div class="container">
            <div class="back-header">
                <button class="back-btn" onclick="showMultiplayer()">â† Back</button>
                <h2>Host a Quiz</h2>
            </div>
            
            <div class="quiz-setup">
                <div class="setup-tabs">
                    <button class="tab-btn active" onclick="switchHostTab('topic')">Topic-based</button>
                    <button class="tab-btn" onclick="switchHostTab('document')">Document-based</button>
                </div>
                
                <div id="host-topic-setup" class="setup-content active">
                    <div class="input-group">
                        <label for="host-topic-input">Enter a topic</label>
                        <input type="text" id="host-topic-input" placeholder="e.g., JavaScript, History, Science...">
                    </div>
                    
                    <div class="input-group">
                        <label for="host-difficulty-level">Difficulty Level</label>
                        <select id="host-difficulty-level">
                            <option value="beginner">ğŸŒ± Beginner - Basic concepts and fundamentals</option>
                            <option value="intermediate" selected>ğŸ¯ Intermediate - Moderate complexity</option>
                            <option value="advanced">ğŸ”¥ Advanced - In-depth knowledge required</option>
                            <option value="expert">ğŸ’ Expert - Challenging and specialized</option>
                        </select>
                    </div>
                    
                    <div class="input-group">
                        <label for="host-question-count">Number of questions</label>
                        <select id="host-question-count">
                            <option value="3">3 questions</option>
                            <option value="5">5 questions</option>
                            <option value="7" selected>7 questions</option>
                            <option value="10">10 questions</option>
                            <option value="15">15 questions</option>
                            <option value="20">20 questions</option>
                            <option value="25">25 questions</option>
                            <option value="30">30 questions</option>
                        </select>
                    </div>
                    
                    <div class="input-group">
                        <label for="host-time-limit">Time Limit</label>
                        <select id="host-time-limit">
                            <option value="0">â³ No time limit</option>
                            <option value="30">âš¡ 30 seconds per question</option>
                            <option value="60" selected>â±ï¸ 1 minute per question</option>
                            <option value="90">ğŸ• 1.5 minutes per question</option>
                            <option value="120">â° 2 minutes per question</option>
                            <option value="180">ğŸ•’ 3 minutes per question</option>
                            <option value="300">ğŸ•” 5 minutes per question</option>
                        </select>
                    </div>
                    
                    <button class="start-btn" onclick="createHostRoom()">Create Room</button>
                </div>
                
                <div id="host-document-setup" class="setup-content">
                    <div class="input-group">
                        <label for="host-document-input">Upload document</label>
                        <div class="file-upload">
                            <input type="file" id="host-document-input" accept=".pdf,.txt" onchange="handleHostFileUpload()">
                            <div class="file-upload-area">
                                <span class="upload-icon">ğŸ“„</span>
                                <span class="upload-text">Click to upload PDF or TXT file</span>
                                <span class="file-name" id="host-file-name"></span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label for="host-doc-difficulty-level">Difficulty Level</label>
                        <select id="host-doc-difficulty-level">
                            <option value="beginner">ğŸŒ± Beginner - Basic concepts from document</option>
                            <option value="intermediate" selected>ğŸ¯ Intermediate - Moderate analysis required</option>
                            <option value="advanced">ğŸ”¥ Advanced - Deep understanding needed</option>
                            <option value="expert">ğŸ’ Expert - Critical thinking and synthesis</option>
                        </select>
                    </div>
                    
                    <div class="input-group">
                        <label for="host-doc-question-count">Number of questions</label>
                        <select id="host-doc-question-count">
                            <option value="3">3 questions</option>
                            <option value="5">5 questions</option>
                            <option value="7" selected>7 questions</option>
                            <option value="10">10 questions</option>
                            <option value="15">15 questions</option>
                            <option value="20">20 questions</option>
                            <option value="25">25 questions</option>
                            <option value="30">30 questions</option>
                        </select>
                    </div>
                    
                    <div class="input-group">
                        <label for="host-doc-time-limit">Time Limit</label>
                        <select id="host-doc-time-limit">
                            <option value="0">â³ No time limit</option>
                            <option value="30">âš¡ 30 seconds per question</option>
                            <option value="60" selected>â±ï¸ 1 minute per question</option>
                            <option value="90">ğŸ• 1.5 minutes per question</option>
                            <option value="120">â° 2 minutes per question</option>
                            <option value="180">ğŸ•’ 3 minutes per question</option>
                            <option value="300">ğŸ•” 5 minutes per question</option>
                        </select>
                    </div>
                    
                    <button class="start-btn" onclick="createHostDocumentRoom()" disabled>Create Room</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Join Setup -->
    <div id="join-setup" class="screen">
        <div class="container">
            <div class="back-header">
                <button class="back-btn" onclick="showMultiplayer()">â† Back</button>
                <h2>Join a Quiz</h2>
            </div>
            
            <div class="join-form">
                <div class="input-group">
                    <label for="join-pin">Enter PIN</label>
                    <input type="text" id="join-pin" placeholder="Enter 6-digit PIN" maxlength="6">
                </div>
                
                <div class="input-group">
                    <label for="player-name">Your name</label>
                    <input type="text" id="player-name" placeholder="Enter your name">
                </div>
                
                <button class="start-btn" onclick="joinRoom()">Join Quiz</button>
            </div>
        </div>
    </div>

    <!-- Waiting Room -->
    <div id="waiting-room" class="screen">
        <div class="container">
            <div class="waiting-content">
                <h2>Quiz Room</h2>
                <div class="room-pin">
                    <span class="pin-label">PIN:</span>
                    <span class="pin-code" id="room-pin-display"></span>
                </div>
                
                <div class="players-list">
                    <h3>Players</h3>
                    <div id="players-container"></div>
                </div>
                
                <div class="host-controls" id="host-controls" style="display: none;">
                    <button class="start-btn" onclick="startMultiplayerQuiz()">Start Quiz</button>
                </div>
                
                <div class="waiting-status" id="waiting-status">
                    Waiting for host to start the quiz...
                </div>
            </div>
        </div>
    </div>

    <!-- Quiz Game -->
    <div id="quiz-game" class="screen">
        <div class="container">
            <div class="quiz-header">
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
                <div class="quiz-info">
                    <span class="question-counter" id="question-counter">Question 1 of 5</span>
                    <span class="timer" id="timer" style="display: none;">â±ï¸ 1:00</span>
                    <span class="score" id="current-score">Score: 0</span>
                </div>
            </div>
            
            <div class="question-container">
                <h3 class="question-text" id="question-text"></h3>
                
                <div class="answers-container" id="answers-container">
                    <!-- Answer options will be generated here -->
                </div>
                
                <div class="quiz-controls" id="quiz-controls">
                    <button class="next-btn" id="next-btn" onclick="nextQuestion()" style="display: none;">Next Question</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Results Screen -->
    <div id="results" class="screen">
        <div class="container">
            <div class="results-content">
                <h2>Quiz Complete!</h2>
                
                <div class="final-score">
                    <div class="score-circle">
                        <span class="score-value" id="final-score">0</span>
                        <span class="score-total" id="final-total">/ 5</span>
                    </div>
                    <p class="score-percentage" id="score-percentage">0%</p>
                </div>
                
                <div class="multiplayer-results" id="multiplayer-results" style="display: none;">
                    <h3>Leaderboard</h3>
                    <div id="leaderboard"></div>
                </div>
                
                <div class="results-actions">
                    <button class="action-btn primary" onclick="showLanding()">Play Again</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Screen -->
    <div id="loading" class="screen">
        <div class="container">
            <div class="loading-content">
                <div class="spinner"></div>
                <h3 id="loading-text">Generating quiz questions...</h3>
                <p id="loading-subtext">This may take a few seconds</p>
            </div>
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="script.js"></script>
</body>
</html>
